# ============================================================================
# TRIA AI-BPO PRODUCTION ENVIRONMENT CONFIGURATION (TEMPLATE)
# ============================================================================
# This is a TEMPLATE file - copy to .env.production and fill in actual values
# SECURITY: Never commit .env.production with real secrets to version control
# ============================================================================

# ============================================================================
# DATABASE CONFIGURATION (REQUIRED)
# ============================================================================
POSTGRES_USER=tria_admin_prod
POSTGRES_PASSWORD=<GENERATE_WITH_openssl_rand_-base64_48>
POSTGRES_DB=tria_aibpo_production

DATABASE_URL=postgresql://tria_admin_prod:<PASSWORD>@<YOUR_DB_HOST>:5432/tria_aibpo_production

DB_POOL_SIZE=20
DB_MAX_OVERFLOW=40
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ============================================================================
# SECURITY & ENCRYPTION (REQUIRED)
# ============================================================================
SECRET_KEY=<GENERATE_WITH_openssl_rand_-hex_64>
BACKUP_ENCRYPTION_KEY=<GENERATE_WITH_openssl_rand_-base64_32>

# ============================================================================
# OPENAI API CONFIGURATION (REQUIRED)
# ============================================================================
OPENAI_API_KEY=<YOUR_OPENAI_API_KEY>
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=2000
OPENAI_TIMEOUT=60

# ============================================================================
# BUSINESS CONFIGURATION (REQUIRED - NO DEFAULTS)
# ============================================================================
TAX_RATE=0.08
XERO_SALES_ACCOUNT_CODE=200
XERO_TAX_TYPE=OUTPUT2

CUTOFF_TIME=14:00
ANOMALY_TOLERANCE=0.15
DEFAULT_DELIVERY_DAYS=2
DELIVERY_SLOTS=08:00-10:00,10:00-12:00,14:00-16:00,16:00-18:00

# ============================================================================
# XERO API CONFIGURATION (REQUIRED)
# ============================================================================
XERO_CLIENT_ID=<YOUR_XERO_CLIENT_ID>
XERO_CLIENT_SECRET=<YOUR_XERO_CLIENT_SECRET>
XERO_REFRESH_TOKEN=<YOUR_XERO_REFRESH_TOKEN>
XERO_TENANT_ID=<YOUR_XERO_TENANT_ID>

XERO_TOKEN_URL=https://identity.xero.com/connect/token
XERO_API_URL=https://api.xero.com/api.xro/2.0
XERO_RATE_LIMIT_PER_MINUTE=60
XERO_TOKEN_REFRESH_BUFFER=300

# ============================================================================
# FILE PATHS
# ============================================================================
MASTER_INVENTORY_FILE=/app/data/inventory/Master_Inventory_File_2025.xlsx
DO_TEMPLATE_FILE=/app/data/templates/DO_Template.xlsx
OUTPUT_DIR=/app/data/generated
DO_OUTPUT_DIR=/app/data/generated/deliveries
INVOICE_OUTPUT_DIR=/app/data/generated/invoices
BACKUP_DIR=/app/backups

# ============================================================================
# API SERVER CONFIGURATION
# ============================================================================
API_PORT=8001
API_HOST=0.0.0.0
API_WORKERS=4
API_RELOAD=false
ENHANCED_API_PORT=8001
MCP_PORT=3001

RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=5000

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
CORS_ORIGINS=https://<YOUR_DOMAIN>.com,https://app.<YOUR_DOMAIN>.com

# ============================================================================
# LOGGING & MONITORING
# ============================================================================
LOG_LEVEL=INFO
ENABLE_MONITORING=true

# SENTRY_DSN=<YOUR_SENTRY_DSN>
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# ============================================================================
# EMAIL NOTIFICATIONS (OPTIONAL)
# ============================================================================
# SENDGRID_API_KEY=<YOUR_SENDGRID_KEY>
FROM_EMAIL=noreply@<YOUR_DOMAIN>.com
ALERT_EMAIL=alerts@<YOUR_DOMAIN>.com

# ============================================================================
# SMS NOTIFICATIONS (OPTIONAL)
# ============================================================================
# TWILIO_ACCOUNT_SID=<YOUR_TWILIO_SID>
# TWILIO_AUTH_TOKEN=<YOUR_TWILIO_TOKEN>
# TWILIO_PHONE_NUMBER=+6512345678

# ============================================================================
# PERFORMANCE & SCALING
# ============================================================================
WORKERS=4
THREADS_PER_WORKER=2
MAX_CONCURRENT_REQUESTS=100
CONNECTION_POOL_SIZE=20
CONNECTION_POOL_TIMEOUT=30

# ============================================================================
# FEATURE FLAGS
# ============================================================================
DEMO_MODE=false
LOAD_SAMPLE_DATA=false
ENABLE_CIRCUIT_BREAKERS=true
ENABLE_REQUEST_LOGGING=true
ENABLE_PERFORMANCE_MONITORING=true

# ============================================================================
# PRODUCTION SETTINGS
# ============================================================================
ENVIRONMENT=production
NODE_ENV=production
PYTHONUNBUFFERED=1

DEPLOYMENT_VERSION=1.0.0
DEPLOYMENT_DATE=2025-10-18
DEPLOYED_BY=devops

# ============================================================================
# SECURITY SETTINGS
# ============================================================================
SECURE_COOKIES=true
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=strict
CSRF_PROTECTION_ENABLED=true

# ============================================================================
# BACKUP CONFIGURATION
# ============================================================================
ENABLE_AUTOMATED_BACKUPS=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true

# ============================================================================
# HEALTH CHECK & ALERTS
# ============================================================================
HEALTH_CHECK_TIMEOUT=30
HEALTH_CHECK_INTERVAL=60
ALERT_ON_ERROR_RATE=0.05
ALERT_ON_SLOW_RESPONSE=5000
ALERT_ON_DB_CONNECTION_FAILURE=true
