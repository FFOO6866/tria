# Tria AIBPO POV Configuration
# Copy this file to .env and fill in your actual values

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL connection (required by DataFlow alpha)
DATABASE_URL=postgresql://postgres:password@localhost:5432/tria_aibpo

# Database settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# ============================================================================
# XERO API CONFIGURATION (REQUIRED FOR DEMO)
# ============================================================================
# Get credentials from: https://developer.xero.com/
# SECURITY: Never commit actual credentials - use environment-specific .env files
XERO_CLIENT_ID=
XERO_CLIENT_SECRET=
XERO_REFRESH_TOKEN=
XERO_TENANT_ID=

# Xero API settings
XERO_TOKEN_URL=https://identity.xero.com/connect/token
XERO_API_URL=https://api.xero.com/api.xro/2.0
XERO_RATE_LIMIT_PER_MINUTE=60

# ============================================================================
# OPENAI API CONFIGURATION (REQUIRED FOR LLM AGENTS)
# ============================================================================
# Get API key from: https://platform.openai.com/
# SECURITY: Never commit actual API keys - use environment-specific .env files
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=2000

# ============================================================================
# FILE PATHS
# ============================================================================
# Excel files (relative to project root) - Using TRIA's existing files
MASTER_INVENTORY_FILE=./data/inventory/Master_Inventory_File_2025.xlsx
DO_TEMPLATE_FILE=./data/templates/DO_Template.xlsx

# Generated files output directory
OUTPUT_DIR=./data/generated
DO_OUTPUT_DIR=./data/generated/deliveries
INVOICE_OUTPUT_DIR=./data/generated/invoices

# ============================================================================
# BUSINESS LOGIC CONFIGURATION
# ============================================================================
# Order cutoff time (24-hour format)
CUTOFF_TIME=14:00

# Anomaly detection tolerance (Â±percentage)
ANOMALY_TOLERANCE=0.15

# Delivery scheduling
DEFAULT_DELIVERY_DAYS=2
DELIVERY_SLOTS=08:00-10:00,10:00-12:00,14:00-16:00,16:00-18:00

# Tax rate (Singapore GST)
TAX_RATE=0.08

# NOTE: Pricing is managed in the database Product catalog
# NO HARDCODED PRICES - All pricing comes from products.unit_price

# ============================================================================
# XERO INTEGRATION CONFIGURATION
# ============================================================================
# Xero account codes and tax types (configurable per deployment)
XERO_SALES_ACCOUNT_CODE=200
XERO_TAX_TYPE=OUTPUT2

# ============================================================================
# DEMO CONFIGURATION
# ============================================================================
# Set to "true" to enable demo mode with cached responses
DEMO_MODE=false

# Demo settings
LOAD_SAMPLE_DATA=true
ENABLE_CIRCUIT_BREAKERS=true

# ============================================================================
# NEXUS PLATFORM CONFIGURATION
# ============================================================================
# API server
API_PORT=8000
API_HOST=0.0.0.0

# MCP server
MCP_PORT=3001

# Rate limiting
RATE_LIMIT_PER_MINUTE=100

# ============================================================================
# MONITORING & LOGGING
# ============================================================================
LOG_LEVEL=INFO
ENABLE_MONITORING=true

# Sentry (optional - for production)
# SENTRY_DSN=your_sentry_dsn_here

# ============================================================================
# SECURITY
# ============================================================================
# Secret key for session encryption (generate with: openssl rand -hex 32)
# SECURITY: Generate unique key per environment - NEVER reuse across environments
SECRET_KEY=

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:8000,http://localhost:3000

# ============================================================================
# EXTERNAL INTEGRATIONS (FUTURE)
# ============================================================================
# Email notifications (SendGrid)
# SENDGRID_API_KEY=your_sendgrid_key
# FROM_EMAIL=noreply@tria.com

# SMS notifications (Twilio)
# TWILIO_ACCOUNT_SID=your_twilio_sid
# TWILIO_AUTH_TOKEN=your_twilio_token
# TWILIO_PHONE_NUMBER=+6512345678

# WhatsApp Business API (Future)
# WHATSAPP_BUSINESS_ID=your_whatsapp_business_id
# WHATSAPP_ACCESS_TOKEN=your_whatsapp_token

# Lark integration (Future)
# LARK_APP_ID=your_lark_app_id
# LARK_APP_SECRET=your_lark_app_secret
