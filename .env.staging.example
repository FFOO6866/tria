# Staging Environment Configuration
# ==================================
# Copy to .env.staging and configure for your staging environment

# ============================================================================
# ENVIRONMENT
# ============================================================================
ENVIRONMENT=staging

# ============================================================================
# DATABASE (Staging)
# ============================================================================
DATABASE_URL=postgresql://tria_staging:STAGING_PASSWORD@staging-db.example.com:5432/tria_staging
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# ============================================================================
# REDIS (Staging)
# ============================================================================
REDIS_HOST=staging-redis.example.com
REDIS_PORT=6379
REDIS_PASSWORD=STAGING_REDIS_PASSWORD
REDIS_DB=0

# ============================================================================
# OPENAI (Use separate API key for staging)
# ============================================================================
OPENAI_API_KEY=sk-proj-STAGING_KEY
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=2000

# ============================================================================
# XERO (Use Xero Sandbox/Demo Organization)
# ============================================================================
XERO_CLIENT_ID=STAGING_XERO_CLIENT_ID
XERO_CLIENT_SECRET=STAGING_XERO_CLIENT_SECRET
XERO_REFRESH_TOKEN=STAGING_REFRESH_TOKEN
XERO_TENANT_ID=STAGING_TENANT_ID
XERO_TOKEN_URL=https://identity.xero.com/connect/token
XERO_API_URL=https://api.xero.com/api.xro/2.0

# ============================================================================
# BUSINESS CONFIGURATION
# ============================================================================
TAX_RATE=0.08
XERO_SALES_ACCOUNT_CODE=200
XERO_TAX_TYPE=OUTPUT2

# ============================================================================
# SECURITY
# ============================================================================
SECRET_KEY=STAGING_SECRET_KEY_GENERATE_WITH_openssl_rand_hex_32

# ============================================================================
# MONITORING (Staging Sentry Project)
# ============================================================================
SENTRY_DSN=https://STAGING_SENTRY_DSN@sentry.io/STAGING_PROJECT_ID
LOG_LEVEL=DEBUG  # More verbose logging in staging

# ============================================================================
# FEATURE FLAGS (Enable testing features in staging)
# ============================================================================
ENABLE_DEBUG_ENDPOINTS=true
ENABLE_PERFORMANCE_PROFILING=true
ENABLE_EXPERIMENTAL_FEATURES=true

# ============================================================================
# RATE LIMITING (More permissive in staging)
# ============================================================================
RATE_LIMIT_PER_MINUTE=200  # Higher than production for testing

# ============================================================================
# DEPLOYMENT
# ============================================================================
SERVER_IP=STAGING_SERVER_IP
SERVER_USER=ubuntu
PEM_KEY_PATH=~/.ssh/staging-key.pem

# ============================================================================
# NOTIFICATIONS (Staging Slack channel)
# ============================================================================
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/STAGING/WEBHOOK/URL
SLACK_CHANNEL=#staging-alerts

# ============================================================================
# DATA RETENTION (Shorter in staging)
# ============================================================================
DATA_RETENTION_DAYS=7  # Keep logs for 7 days only
CONVERSATION_RETENTION_DAYS=14

# ============================================================================
# LOAD TESTING
# ============================================================================
ENABLE_LOAD_TESTING_ENDPOINTS=true
BYPASS_RATE_LIMITS_FOR_TESTS=true  # Allow load testing
